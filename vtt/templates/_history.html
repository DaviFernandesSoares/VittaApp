{% load static %}
<div>
  {% if messages %}
    {% for msg in messages %}
      <div style="margin-bottom:10px; display:flex; flex-direction:column; align-items:{% if msg.sender == user %}flex-end{% else %}flex-start{% endif %};">
        <div style="background:{% if msg.sender == user %}#e6ffed{% else %}#eef6ff{% endif %}; padding:8px 12px; border-radius:8px; max-width:80%; white-space:pre-wrap;">
          <strong style="display:block; font-size:0.9em; color:#333;">
            {% if msg.sender == user %}VocÃª{% else %}{{ msg.sender.get_full_name|default:msg.sender.username }}{% endif %}
          </strong>
          <div style="margin-top:6px; color:#111;">{{ msg.content }}</div>
          <small style="display:block; color:#666; margin-top:6px;">{{ msg.created_at|date:"d/m/Y H:i" }}</small>
        </div>
      </div>
    {% endfor %}
  {% else %}
    <p style="color:#666;">Nenhuma mensagem ainda.</p>
  {% endif %}
</div>